{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix live pricing with Kolkata INR rates and 5-minute auto-refresh",
  "requirements": [
    {
      "id": "REQ-3",
      "summary": "Display gold price formatted as Indian Rupees per 10 grams with proper formatting",
      "acceptanceCriteria": [
        "Gold price displays with rupee symbol (₹)",
        "Price is shown per 10 grams unit",
        "Uses Indian number formatting with commas (e.g., 1,59,000)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/LiveRatesDashboard.tsx",
          "operation": "modify",
          "description": "Update gold price display to show proper unit label '/10g' and ensure Indian Rupee symbol (₹) is consistently used. Verify that the formatIndianNumber utility correctly formats prices with Indian comma grouping (e.g., 1,59,000 instead of 159,000)."
        },
        {
          "path": "frontend/src/components/MetalTicker.tsx",
          "operation": "modify",
          "description": "Update ticker display for gold to show '/10g' unit suffix and ensure rupee symbol formatting matches the dashboard. Maintain animated price change indicators while displaying the correct unit."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Display silver price formatted as Indian Rupees per kilogram with proper formatting",
      "acceptanceCriteria": [
        "Silver price displays with rupee symbol (₹)",
        "Price is shown per kilogram unit",
        "Uses Indian number formatting with commas (e.g., 2,65,000)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/LiveRatesDashboard.tsx",
          "operation": "modify",
          "description": "Update silver price display to show proper unit label '/kg' and ensure Indian Rupee symbol (₹) is consistently used. Verify that the formatIndianNumber utility correctly formats prices with Indian comma grouping (e.g., 2,65,000)."
        },
        {
          "path": "frontend/src/components/MetalTicker.tsx",
          "operation": "modify",
          "description": "Update ticker display for silver to show '/kg' unit suffix and ensure rupee symbol formatting matches the dashboard. Maintain animated price change indicators while displaying the correct unit."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Enable automatic price updates without user interaction by polling backend every 5 minutes",
      "acceptanceCriteria": [
        "No manual refresh button or action required",
        "Prices update automatically in background every 5 minutes",
        "UI reflects latest prices without page reload"
      ],
      "file_operations": [
        {
          "path": "frontend/src/config/refresh.ts",
          "operation": "modify",
          "description": "Update React Query refetch interval from 15 seconds to 300 seconds (5 minutes) to match backend refresh cadence. Ensure refetchInterval is set to 300000 milliseconds and refetchIntervalInBackground is true so polling continues even when tab is not focused."
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Ensure the metal prices query uses the updated 5-minute refresh configuration from frontend/src/config/refresh.ts. Verify that the query automatically refetches from the backend every 5 minutes without requiring user interaction. Remove any manual refresh logic if present."
        },
        {
          "path": "frontend/src/components/LiveRatesDashboard.tsx",
          "operation": "modify",
          "description": "Remove any manual refresh buttons or controls if present. Ensure the component passively displays prices from the useQueries hook without providing refresh actions to users. The UI should automatically update when React Query refetches data every 5 minutes."
        },
        {
          "path": "frontend/src/components/MetalTicker.tsx",
          "operation": "modify",
          "description": "Ensure ticker automatically reflects updated prices when React Query refetches data. Remove any manual refresh functionality if present. The ticker should seamlessly update with new prices from the 5-minute polling cycle."
        }
      ]
    }
  ]
}